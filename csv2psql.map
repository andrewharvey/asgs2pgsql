# This file defines the attribute mapping used to load the ABS ASGS CSV files
# into our database (which has the schema defined in 03-create-asgs-schema.sql).
#
# Lines must be of the format (unless they begin with LINK which we explain
# later on in this file):
# ABS_VOL_NUM CSV_FILE.CSV_FILE_ATTRIBUTE PSQL_TABLE.PSQL_ATTRIBUTE

# To the extent possible under law, the person who associated CC0
# with this work has waived all copyright and related or neighboring
# rights to this work.
# http://creativecommons.org/publicdomain/zero/1.0/

# This schema is partly derived from the ASGS structure.
# http://www.abs.gov.au/websitedbs/D3310114.nsf/home/Australian+Statistical+Geography+Standard+%28ASGS%29

1 STE_2011_AUST.STATE_CODE_2011 ste.code
1 STE_2011_AUST.STATE_NAME_2011 ste.name

2 IREG_2011_AUST.IREG_CODE_2011 ireg.code
2 IREG_2011_AUST.IREG_NAME_2011 ireg.name
2 IREG_2011_AUST.STATE_CODE_2011 ireg.ste

2 IARE_2011_AUST.IARE_CODE_2011 iare.code
2 IARE_2011_AUST.IARE_NAME_2011 iare.name
2 IARE_2011_AUST.IREG_CODE_2011 iare.ireg
2 IARE_2011_AUST.STATE_CODE_2011 iare.ste

2 ILOC_2011_AUST.ILOC_CODE_2011 iloc.code
2 ILOC_2011_AUST.ILOC_NAME_2011 iloc.name
2 ILOC_2011_AUST.IARE_CODE_2011 iloc.iare
2 ILOC_2011_AUST.IREG_CODE_2011 iloc.ireg
2 ILOC_2011_AUST.STATE_CODE_2011 iloc.ste

# Indigenous_Structure_Allocation_2011 adds the I* refs to SA1s

1 GCCSA_2011_AUST.GCCSA_CODE_2011 gccsa.code
1 GCCSA_2011_AUST.GCCSA_NAME_2011 gccsa.name
1 GCCSA_2011_AUST.STATE_CODE_2011 gccsa.ste

1 SA4_2011_AUST.SA4_CODE_2011 sa4.code
1 SA4_2011_AUST.SA4_NAME_2011 sa4.name
1 SA4_2011_AUST.GCCSA_CODE_2011 sa4.gccsa
1 SA4_2011_AUST.STATE_CODE_2011 sa4.ste

1 SA3_2011_AUST.SA3_CODE_2011 sa3.code
1 SA3_2011_AUST.SA3_NAME_2011 sa3.name
1 SA3_2011_AUST.SA4_CODE_2011 sa3.sa4
1 SA3_2011_AUST.GCCSA_CODE_2011 sa3.gccsa
1 SA3_2011_AUST.STATE_CODE_2011 sa3.ste

3 TR_2011_AUST.TR_Code_2011 tr.code
3 TR_2011_AUST.TR_Name_2011 tr.name

1 SA2_2011_AUST.SA2_MAINCODE_2011 sa2.code
1 SA2_2011_AUST.SA2_NAME_2011 sa2.name
1 SA2_2011_AUST.SA3_CODE_2011 sa2.sa3
1 SA2_2011_AUST.SA4_CODE_2011 sa2.sa4
1 SA2_2011_AUST.GCCSA_CODE_2011 sa2.gccsa
1 SA2_2011_AUST.STATE_CODE_2011 sa2.ste

3 ADD_2011_AUST.ADD_CODE_2011 add.code
3 ADD_2011_AUST.ADD_NAME_2011 add.name

3 CED_2011_AUST.CED_CODE_2011 ced.code
3 CED_2011_AUST.CED_NAME_2011 ced.name

3 SED_2011_AUST.SED_CODE_2011 sed.code
3 SED_2011_AUST.SED_NAME_2011 sed.name

3 NRMR_2011_AUST.NRMR_CODE_2011 nrmr.code
3 NRMR_2011_AUST.NRMR_NAME_2011 nrmr.name

3 SSC_2011_AUST.SSC_CODE_2011 ssc.code
3 SSC_2011_AUST.SSC_NAME_2011 ssc.name
3 SSC_2011_AUST.CONF_VALUE ssc.confidence

3 POA_2011_AUST.POA_CODE_2011 poa.code
3 POA_2011_AUST.POA_NAME_2011 poa.name

3 LGA_2011_*.LGA_CODE_2011 lga.code
3 LGA_2011_*.LGA_NAME_2011 lga.name
3 LGA_2011_*.STATE_CODE_2011 lga.ste

1 SA1_2011_AUST.SA1_MAINCODE_2011 sa1.code
1 SA1_2011_AUST.SA2_MAINCODE_2011 sa1.sa2
1 SA1_2011_AUST.SA3_CODE_2011 sa1.sa3
1 SA1_2011_AUST.SA4_CODE_2011 sa1.sa4
1 SA1_2011_AUST.GCCSA_CODE_2011 sa1.gccsa
1 SA1_2011_AUST.STATE_CODE_2011 sa1.ste

1 MB_2011_*.MB_CODE_2011 mb.code
1 MB_2011_*.MB_CATEGORY_2011 mb.category
1 MB_2011_*.SA1_MAINCODE_2011 mb.sa1
1 MB_2011_*.SA2_MAINCODE_2011 mb.sa2
1 MB_2011_*.SA3_CODE_2011 mb.sa3
1 MB_2011_*.SA4_CODE_2011 mb.sa4
1 MB_2011_*.GCCSA_CODE_2011 mb.gccsa
1 MB_2011_*.STATE_CODE_2011 mb.ste

# Many of the Volume 3 datasets can be linked to a Volume 1 dataset. We
# have allowed for this in the schema and the following lines will add
# the foreign keys to the volume 1 dataset tables.

LINK 2 Indigenous_Structure_Allocation_2011.SA1_MAINCODE_2011 sa1.code Indigenous_Structure_Allocation_2011.ILOC_CODE_2011 sa1.iloc
LINK 3 POA_2011_AUST.SA1_MAINCODE_2011 sa1.code POA_2011_AUST.POA_CODE_2011 sa1.poa
LINK 3 SSC_2011_AUST.SA1_MAINCODE_2011 sa1.code SSC_2011_AUST.SSC_CODE_2011 sa1.ssc
LINK 3 CED_2011_AUST.SA1_MAINCODE_2011 sa1.code CED_2011_AUST.CED_CODE_2011 sa1.ced
LINK 3 SED_2011_AUST.SA1_MAINCODE_2011 sa1.code SED_2011_AUST.SED_CODE_2011 sa1.sed
LINK 3 ADD_2011_AUST.SA1_MAINCODE_2011 sa1.code ADD_2011_AUST.ADD_CODE_2011 sa1.add
LINK 3 NRMR_2011_AUST.SA1_MAINCODE_2011 sa1.code NRMR_2011_AUST.NRMR_CODE_2011 sa1.nrmr
LINK 3 TR_2011_AUST.SA2_MAINCODE_2011 sa2.code TR_2011_AUST.TR_Code_2011 sa2.tr
LINK 3 LGA_2011_*.MB_CODE_2011 mb.code LGA_2011_*.LGA_CODE_2011 mb.lga
